
// W-4 PDF FIELD MAPPING TEMPLATE
// Copy this into your generateW4PDF function

// Step 1: Employee Info
setSafeText('SECTION 1 STUDENT INFORMATION Completed by Student', w4Data.FIRST_NAME || '');  // First Name
setSafeText('Student Name SurnamePrimary Name Given Name', w4Data.LAST_NAME || '');   // Last Name
setSafeText('Student Email Address', pdfSSN);                    // SSN
setSafeText('Name of School Recommending STEM OPT', w4Data.ADDRESS_STREET || ''); // Address
setSafeText('Name of School Where STEM Degree Was Earned', w4Data.ADDRESS_CITY_STATE_ZIP || ''); // City/State/ZIP

// Filing Status (checkboxes)
if (w4Data.FILING_STATUS === 'SINGLE') checkSafeBox('CHECKBOX_NAME_HERE');
else if (w4Data.FILING_STATUS === 'MARRIED_JOINTLY') checkSafeBox('CHECKBOX_NAME_HERE');
else if (w4Data.FILING_STATUS === 'HEAD_OF_HOUSEHOLD') checkSafeBox('CHECKBOX_NAME_HERE');

// Step 2: Multiple Jobs
if (w4Data.MULTIPLE_JOBS_CHECKED) checkSafeBox('CHECKBOX_NAME_HERE');

// Step 3: Dependents
setSafeText('SEVIS School Code of School Recommending STEM OPT including 3 digit suffix', String(Number(w4Data.QUALIFYING_CHILDREN_AMOUNT || 0).toFixed(0)));
setSafeText('Designated School Official DSO Name and Contact Information', String(Number(w4Data.OTHER_DEPENDENTS_AMOUNT || 0).toFixed(0)));
setSafeText('Student SEVIS ID No', String(Number(w4Data.TOTAL_CREDITS || 0).toFixed(0)));

// Step 4: Other Adjustments
setSafeText('From', String(Number(w4Data.OTHER_INCOME || 0).toFixed(0)));
setSafeText('To', String(Number(w4Data.DEDUCTIONS || 0).toFixed(0)));
setSafeText('Qualifying Major and Classification of Instructional Programs CIP Code', String(Number(w4Data.EXTRA_WITHHOLDING || 0).toFixed(0)));

// Step 5: Signature Date
setSafeText('LevelType of Qualifying Degree', formatPdfDate(w4Data.EMPLOYEE_SIGNATURE_DATE));

// Employer Section (if VERIFIED)
if (w4Data.FORM_STATUS === 'VERIFIED') {
  setSafeText('Date Awarded mmddyyyy', w4Data.EMPLOYER_NAME_ADDRESS || '');
  setSafeText('Employment Authorization Number', formatPdfDate(w4Data.FIRST_DATE_OF_EMPLOYMENT));
  setSafeText('Printed Name of Student', w4Data.EMPLOYER_EIN || '');
}
